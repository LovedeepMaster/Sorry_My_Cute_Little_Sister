<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Hey, my little princess‚Ä¶</title>

<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#FFF7F3;
    --panel:#FFF;
    --ink:#5a332d;
    --muted:#b88882;
    --accent:#f08f90;
    --accent-2:#f4b6b6;
    --maxw:520px;
    --radius-pill:44px;
    --card-radius:22px;
    --shadow:0 18px 40px rgba(20,16,14,0.06);
    --gap:18px;
    --ui-font: "Baloo 2", system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    background:linear-gradient(180deg,var(--bg),#ffefef);
    display:flex;
    align-items:center;
    justify-content:center;
    padding:28px;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    font-family:var(--ui-font);
    overflow:auto;
  }

  .frame{
    width:100%;
    max-width:var(--maxw);
    background:var(--panel);
    border-radius:var(--card-radius);
    box-shadow:var(--shadow);
    padding:30px;
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:var(--gap);
    position:relative;
    overflow:visible;
  }

  .bg-icon{position:absolute;width:26px;height:26px;opacity:0.7;z-index:0;animation:float 10s ease-in-out infinite;pointer-events:none}
  @keyframes float{0%{transform:translateY(0) rotate(0deg);opacity:.5}50%{transform:translateY(-34px) rotate(16deg);opacity:.95}100%{transform:translateY(0) rotate(0deg);opacity:.5}}
  .bg-icon.heart::before{content:'üíó';font-size:24px}
  .bg-icon.flower::before{content:'üå∏';font-size:22px}

  h1{margin:6px 8px 0;text-align:center;color:var(--ink);font-weight:800;line-height:1.02;font-size:36px;z-index:2}
  @media (max-width:420px){h1{font-size:28px}}
  p.lead{margin:6px 8px 0;color:var(--muted);font-size:14px;text-align:center;max-width:44ch;z-index:2}

  .visual{width:100%;display:flex;align-items:center;justify-content:center;padding-top:6px;z-index:2}
  .visual img{width:100%;height:auto;max-width:420px;border-radius:18px;box-shadow:0 14px 40px rgba(240,140,140,0.06);display:block}

  .pill{margin-top:10px;width:calc(100% - 40px);max-width:420px;padding:18px 22px;border-radius:var(--radius-pill);border:0;font-weight:800;font-size:20px;color:#fff;background:linear-gradient(90deg,var(--accent),var(--accent-2));box-shadow:0 14px 30px rgba(240,140,140,0.12);cursor:pointer;text-align:center;z-index:2}
  .pill:active{transform:translateY(2px)}
  .pill:focus{outline:3px solid rgba(240,140,140,0.16);outline-offset:4px}

  .finger-grid{width:100%;display:flex;gap:18px;justify-content:center;align-items:center;flex-wrap:wrap;z-index:2}
  .finger-btn{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white;font-weight:800;border:0;padding:14px 26px;border-radius:34px;min-width:160px;font-size:18px;cursor:pointer;box-shadow:0 10px 24px rgba(240,140,140,0.12);z-index:2}
  .finger-btn:active{transform:translateY(2px)}.finger-btn:focus{outline:3px solid rgba(240,140,140,0.14);outline-offset:4px}

  .hand-area{padding:8px 0 2px 0}.hidden{display:none!important}

  .msg-tab{position:absolute;left:12px;right:12px;top:14%;z-index:30;display:none;justify-content:center;align-items:flex-start;pointer-events:auto}
  .msg-tab.show{display:flex}
  .msg-box{
    width:100%;
    max-width:calc(var(--maxw)-56px);
    background:var(--panel);
    border-radius:14px;
    padding:24px 24px 20px;
    box-shadow:0 24px 60px rgba(12,8,6,0.12);
    max-height:none;
    overflow:visible;
    border:1px solid rgba(235,217,216,0.6);
    margin-top:2px;
  }
  .msg-body{color:var(--muted);line-height:1.6;white-space:pre-wrap;font-size:16px;margin:0 0 14px}
  .msg-actions{display:flex;gap:12px;justify-content:center}
  .next-btn{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white;border:0;padding:12px 18px;border-radius:12px;font-weight:800;cursor:pointer;box-shadow:0 10px 28px rgba(240,140,140,0.12)}
  .next-btn:focus{outline:3px solid rgba(240,140,140,0.14);outline-offset:3px}

  /* --- simplified gift box (gentle emotional animations) --- */
  .screen-d{width:100%;display:flex;flex-direction:column;align-items:center;gap:12px;z-index:2}
  .gift-text{color:var(--ink);font-weight:700;font-size:18px;text-align:center;max-width:44ch}

  .gift-wrap{width:100%;display:flex;justify-content:center;align-items:center;padding:18px 0 6px;position:relative}

  /* simple box structure */
  .gift-box{
    width:200px;
    height:140px;
    position:relative;
    display:flex;
    align-items:flex-end;
    justify-content:center;
    perspective:700px;
    cursor:pointer;
    user-select:none;
  }

  .box-body{
    width:180px;
    height:98px;
    background:#ffd98a;
    border-radius:10px;
    border:6px solid rgba(85,40,30,0.9);
    box-shadow:0 12px 30px rgba(0,0,0,0.06);
    z-index:2;
    transition:transform 1.2s cubic-bezier(.2,.9,.3,1);
    transform-origin:center bottom;
    position:relative;
  }

  .box-lid{
    width:200px;
    height:48px;
    background:#ffd98a;
    border-radius:10px;
    border:6px solid rgba(85,40,30,0.9);
    position:absolute;
    top:-20px;
    left:50%;
    transform:translateX(-50%) translateZ(0);
    z-index:4;
    transition: transform 1.2s cubic-bezier(.2,.9,.3,1), top 1.2s;
    transform-origin:center center;
  }

  /* small simple bow graphic */
  .box-bow{position:absolute;top:-36px;left:50%;transform:translateX(-50%);z-index:5;width:90px;height:44px}
  .box-bow svg{width:100%;height:100%;display:block}

  /* surprise content -- starts hidden inside the box body */
  .surprise{
    position:absolute;
    left:50%;
    top:44%;
    transform:translate(-50%, 18%) scale(0.65);
    opacity:0;
    z-index:3;
    transition: transform 800ms cubic-bezier(.2,.85,.32,1), opacity 420ms ease;
    will-change:transform,opacity;
  }
  .surprise img{display:block;max-width:130px}

  /* opened state (gentle) */
  .gift-box.open .box-lid{
    transform: translateX(-50%) translateY(-60px) rotateX(-34deg);
    top:-60px;
  }
  .gift-box.open .box-body{
    transform: translateY(6px) scale(0.995);
  }
  .gift-box.open .surprise{
    transform:translate(-50%, -72%) scale(1);
    opacity:1;
  }

  .gift-cta{margin-top:12px;display:none}
  .gift-cta.show{display:block}
  .gift-cta .pill{width:auto;padding:12px 22px;min-width:200px}

  @media (max-width:420px){
    .gift-box{width:180px;height:130px}
    .box-body{width:160px;height:86px}
    .box-lid{width:180px;height:44px}
    .surprise img{max-width:110px}
  }

  @media (max-height: 760px) {
  body {
    align-items: flex-start;   /* don't vertically center on short screens */
    padding-top: 36px;         /* create breathing room from the top edge */
    padding-bottom: 36px;
  }

  .frame {
    margin-top: 8px;           /* small extra push down */
  }

  h1 {
    font-size: 30px;           /* slightly smaller heading on short screens */
    line-height: 1.05;
  }
}

/* extra safety for very narrow windows (phones in landscape, tiny panes) */
@media (max-height: 520px) {
  h1 { font-size: 26px; }
  .visual img { max-width: 300px; }
  .pill { font-size: 18px; padding:14px 20px; }
}
</style>
</head>
<body>
  <main class="frame" role="main" aria-live="polite" id="app">

    <!-- floating icons (unchanged) -->
    <div class="bg-icon heart" style="top:6%;left:10%;animation-delay:0s"></div>
    <div class="bg-icon flower" style="top:12%;right:12%;animation-delay:1s"></div>
    <div class="bg-icon heart" style="top:34%;left:8%;animation-delay:2.2s"></div>
    <div class="bg-icon flower" style="top:40%;right:20%;animation-delay:3s"></div>
    <div class="bg-icon heart" style="top:66%;left:18%;animation-delay:4.2s"></div>
    <div class="bg-icon flower" style="top:60%;right:12%;animation-delay:5.3s"></div>
    <div class="bg-icon heart" style="top:22%;left:72%;animation-delay:6.1s"></div>
    <div class="bg-icon flower" style="bottom:18%;right:40%;animation-delay:7.5s"></div>
    <div class="bg-icon heart" style="bottom:8%;left:48%;animation-delay:8.7s"></div>
    <div class="bg-icon flower" style="top:78%;right:18%;animation-delay:9.4s"></div>

    <!-- message tab (now dynamic, split into parts) -->
    <div class="msg-tab" id="msgTab" aria-hidden="true" role="region" aria-label="Message">
      <div class="msg-box" id="msgBox" tabindex="-1">
        <div class="msg-body" id="msgBody" aria-live="polite"></div>
        <div class="msg-actions">
          <!-- single button which will change label from More -> ... -> Click to Next -->
          <button class="next-btn" id="messageActionBtn">More</button>
        </div>
      </div>
    </div>

    <!-- second small message tab (screen C) unchanged -->
    <div class="msg-tab" id="msgTabC" aria-hidden="true" role="region" aria-label="Message C">
      <div class="msg-box" id="msgBoxC" tabindex="-1">
        <div class="msg-body" id="msgBodyC">
Ohh üòä Thanks, Madam Ji, apne mujhe maaf kiya üòÅ.
Mai to darr hi gya tha, kahi aap dusri wali finger na choose karlo ‚òπÔ∏è,
lekin aap to DIDI ho üòò
        </div>
        <div class="msg-actions">
          <button class="next-btn" id="nextBtnC">Click to Next</button>
        </div>
      </div>
    </div>

    <!-- SCREEN A -->
    <section id="screenA" aria-hidden="false" class="screen" style="z-index:2;">
      <h1 id="titleA">Hey, my little princess‚Ä¶<br>can we talk?</h1>
      <p class="lead">I made this for you ‚Äî a little surprise to say sorry and make things better.</p>
      <div class="visual">
        <img src="assets/new picture.png" alt="Brother and sister" loading="lazy" />
      </div>
      <button id="primaryCTA" class="pill" aria-controls="screenB" aria-expanded="false">Click here, sweetheart.</button>
    </section>

    <!-- SCREEN B -->
    <section id="screenB" aria-hidden="true" class="screen hidden" style="z-index:2;">
      <h1 id="titleB">Choose a finger,<br>please</h1>
      <div class="hand-area visual">
        <img src="https://i.postimg.cc/W1dKGRLN/Chat-GPT-Image-Oct-17-2025-03-06-53-PM-2-removebg-preview.png"
             alt="Hand pointing two fingers" loading="lazy" style="max-width:320px;border-radius:14px" />
      </div>
      <div class="finger-grid" role="list">
        <button class="finger-btn" data-finger="1" role="listitem">Finger 1</button>
        <button class="finger-btn" data-finger="2" role="listitem">Finger 2</button>
      </div>
    </section>

    <!-- SCREEN C -->
    <section id="screenC" aria-hidden="true" class="screen hidden" style="z-index:2;">
      <h1 id="titleC">Ek bar aur choose karle finger maharani ji.</h1>
      <div class="hand-area visual">
        <img src="https://i.postimg.cc/W1dKGRLN/Chat-GPT-Image-Oct-17-2025-03-06-53-PM-2-removebg-preview.png"
             alt="Hand pointing two fingers" loading="lazy" style="max-width:320px;border-radius:14px" />
      </div>
      <div class="finger-grid" role="list">
        <button class="finger-btn" data-finger="C1" role="listitem">Finger 1</button>
        <button class="finger-btn" data-finger="C2" role="listitem">Finger 2</button>
      </div>
    </section>

    <!-- SCREEN D (final simplified gift) -->
    <section id="screenD" aria-hidden="true" class="screen hidden" style="z-index:2;">
      <div class="screen-d">
        <div class="gift-text">Mohturma ji, apne mujhe maaf kiya eske liye, meri taraf se, apke liye, ek chhota sa gift. Niche wale box pe click karo‚Äî</div>

        <div class="gift-wrap" aria-hidden="false">
          <div class="gift-box" id="giftBox" role="button" tabindex="0" aria-pressed="false" aria-label="Open gift box">
            <div class="box-lid" aria-hidden="true"></div>
            <div class="box-bow" aria-hidden="true">
              <svg viewBox="0 0 100 50" xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true">
                <g fill="#f26262" stroke="#5a332d" stroke-width="3">
                  <path d="M30 25 C22 6, 8 6, 22 26 C12 28, 28 48, 30 25 Z"/>
                  <path d="M70 25 C78 6, 92 6, 78 26 C88 28, 72 48, 70 25 Z"/>
                </g>
              </svg>
            </div>

            <div class="box-body" aria-hidden="true"></div>

            <!-- surprise starts hidden inside -->
            <div class="surprise" id="surprise">
              <img src="https://i.postimg.cc/4y5M5t1p/360-F-687591219-6-STqk3-IIRj-UUmm7-Lv-TEMs-PUWWM2r-GCGU-removebg-preview.png"
                   alt="Surprise gift" />
            </div>
          </div>
        </div>

        <div class="gift-cta" id="giftCta"><button class="pill" id="giftNextBtn">Click here, please.</button></div>
      </div>
    </section>

  </main>

<script>
  (function(){
    const screenA = document.getElementById('screenA');
    const screenB = document.getElementById('screenB');
    const screenC = document.getElementById('screenC');
    const screenD = document.getElementById('screenD');
    const cta = document.getElementById('primaryCTA');

    // message tab (split into multiple parts)
    const msgTab = document.getElementById('msgTab');
    const msgBody = document.getElementById('msgBody');
    const messageActionBtn = document.getElementById('messageActionBtn');

    // second small tab (screen C)
    const msgTabC = document.getElementById('msgTabC');
    const nextBtnC = document.getElementById('nextBtnC');

    // gift elements
    const giftBox = document.getElementById('giftBox');
    const surprise = document.getElementById('surprise');
    const giftCta = document.getElementById('giftCta');
    const giftNextBtn = document.getElementById('giftNextBtn');

    // message parts array (exact text pieces you provided)
    const parts = [
`Ahhh üòí, dusri wali finger choose karni chahiye thi, ab pyaar se sorry kehna padega, bina attitude ke yaar. Shittt... Soooo...`,

`Hey, my little one, 
I know I'll mess up tomorrow‚Ä¶ I said things I should‚Äôve never said, and trust me, I‚Äôm feeling really awful about it. I can‚Äôt even sleep properly knowing I hurt you‚Äîsomeone so close, so special to me.`,

`You know me better than anyone‚ÄîI‚Äôm not someone who throws harsh words at the people I love. But still, I slipped, and those words came out. I wish I could take them back right now. üíî`,

`‚ÄîYou‚Äôve always been the sweet, forgiving one‚Ä¶ And just like before, I hope you can forgive me once more. I truly didn‚Äôt mean to disrespect you‚Äîit just happened in a moment, and I regret it deeply.`,

`‚ÄîYou‚Äôre my little sister, my constant reason to smile, and I can‚Äôt stay at peace until you forgive me. So please, accept this small ‚Äúsorry‚Äù wrapped with love, care, and a promise‚Äîthat I‚Äôll be more mindful from now on. ü´∂‚ú®`,

`I love you, my little troublemaker‚Äîplease forgive your stupid brother once again. ü§ç`
    ];

    let partIndex = 0;

    function goToScreen(screenId, push=true){
      [screenA, screenB, screenC, screenD].forEach(s => s.classList.add('hidden'));
      screenA.setAttribute('aria-hidden','true');
      screenB.setAttribute('aria-hidden','true');
      screenC.setAttribute('aria-hidden','true');
      screenD.setAttribute('aria-hidden','true');

      if(screenId === 'screenB'){
        screenB.classList.remove('hidden'); screenB.setAttribute('aria-hidden','false');
        if(push) history.pushState({screen:'B'}, '', '#choose');
        const firstBtn = screenB.querySelector('.finger-btn'); if(firstBtn) firstBtn.focus();
      } else if(screenId === 'screenC'){
        screenC.classList.remove('hidden'); screenC.setAttribute('aria-hidden','false');
        if(push) history.pushState({screen:'C'}, '', '#again');
        const firstBtn = screenC.querySelector('.finger-btn'); if(firstBtn) firstBtn.focus();
      } else if(screenId === 'screenD'){
        screenD.classList.remove('hidden'); screenD.setAttribute('aria-hidden','false');
        if(push) history.pushState({screen:'D'}, '', '#surprise');
        resetGift();
      } else {
        screenA.classList.remove('hidden'); screenA.setAttribute('aria-hidden','false');
        if(push) history.pushState({screen:'A'}, '', '#home');
        cta.focus();
      }
    }

    history.replaceState({screen:'A'}, '', '#home');

    // navigation from screen A -> B
    cta.addEventListener('click', function(){ goToScreen('screenB', true); });

    window.addEventListener('popstate', function(e){
      const state = e.state || {};
      if(state.screen === 'B') goToScreen('screenB', false);
      else if(state.screen === 'C') goToScreen('screenC', false);
      else if(state.screen === 'D') goToScreen('screenD', false);
      else goToScreen('screenA', false);
    });

    // when a finger on screen B is clicked -> open multi-part message
    const fingerButtonsB = screenB.querySelectorAll('.finger-btn');
    fingerButtonsB.forEach(btn => btn.addEventListener('click', function(){
      // reset to first part and show
      partIndex = 0;
      msgBody.textContent = parts[partIndex];
      messageActionBtn.textContent = (parts.length > 1) ? 'More' : 'Click to Next';
      msgTab.classList.add('show');
      msgTab.setAttribute('aria-hidden','false');
      messageActionBtn.focus();
    }));

    // messageActionBtn handles stepping through parts and final transition
    messageActionBtn.addEventListener('click', function(){
      // if not last -> advance
      if(partIndex < parts.length - 1){
        partIndex++;
        msgBody.textContent = parts[partIndex];
        // if now last part, change label to "Click to Next"
        if(partIndex === parts.length - 1){
          messageActionBtn.textContent = 'Click to Next';
        } else {
          messageActionBtn.textContent = 'More';
        }
      } else {
        // final -> close tab and go to screenC
        msgTab.classList.remove('show');
        msgTab.setAttribute('aria-hidden','true');
        goToScreen('screenC', true);
      }
    });

    // screen C finger behavior -> message C (unchanged)
    const fingerButtonsC = screenC.querySelectorAll('.finger-btn');
    fingerButtonsC.forEach(btn => {
      btn.addEventListener('click', ()=> {
        if(msgTabC){ msgTabC.classList.add('show'); msgTabC.setAttribute('aria-hidden','false'); if(nextBtnC) nextBtnC.focus(); }
        btn.textContent = 'Selected ‚úì'; btn.disabled = true;
        setTimeout(()=>{ btn.textContent = btn.getAttribute('data-finger') === 'C1' ? 'Finger 1' : 'Finger 2'; btn.disabled = false; }, 900);
      });
    });

    if(nextBtnC){
      nextBtnC.addEventListener('click', function(){
        msgTabC.classList.remove('show'); msgTabC.setAttribute('aria-hidden','true'); goToScreen('screenD', true);
      });
    }

    // ---------------- simplified gift logic (gentle timings) ----------------
    function resetGift(){
      if(!giftBox) return;
      giftBox.classList.remove('open');
      if(giftCta) giftCta.classList.remove('show');
      // hide surprise explicitly
      if(surprise){
        surprise.style.opacity = '0';
        surprise.style.transform = 'translate(-50%, 18%) scale(0.65)';
      }
      giftBox.setAttribute('aria-pressed','false');
    }

    function openGift(){
      if(!giftBox) return;
      if(giftBox.classList.contains('open')) return;
      // add open class (lid lift animation - 1.2s defined in CSS)
      giftBox.classList.add('open');
      giftBox.setAttribute('aria-pressed','true');

      // after lid animation (1.2s) reveal surprise image over 0.8s
      setTimeout(()=> {
        if(surprise){
          // trigger CSS transition defined for .surprise
          surprise.style.transition = 'transform 800ms cubic-bezier(.2,.85,.32,1), opacity 600ms ease';
          surprise.style.transform = 'translate(-50%, -72%) scale(1)';
          surprise.style.opacity = '1';
        }
        // after reveal completes (800ms) show CTA (slight extra delay for emotion)
        setTimeout(()=> {
          if(giftCta){
            giftCta.classList.add('show');
            const btn = document.getElementById('giftNextBtn');
            if(btn) btn.focus();
          }
        }, 820);
      }, 1200); // wait for lid lift
    }

    if(giftBox){
      giftBox.addEventListener('click', openGift);
      giftBox.addEventListener('keydown', function(e){
        if(e.key === 'Enter' || e.key === ' '){ e.preventDefault(); openGift(); }
      });
    }

    if(giftNextBtn){
      giftNextBtn.addEventListener('click', function(){
        // temporary simple action (keeps flow minimal). You can replace later.
        alert('I hope she liked it ‚ù§Ô∏è');
      });
    }

    // reduced-motion preference: skip long transitions but keep reveal
    const mq = window.matchMedia('(prefers-reduced-motion: reduce)');
    if(mq.matches){
      document.querySelectorAll('.bg-icon').forEach(e => e.style.animation = 'none');
      if(giftBox){
        giftBox.addEventListener('click', function(){
          giftBox.classList.add('open');
          if(surprise){ surprise.style.opacity = '1'; surprise.style.transform = 'translate(-50%, -72%) scale(1)'; }
          if(giftCta) giftCta.classList.add('show');
        });
      }
    }
  })();
</script>
</body>
</html>





